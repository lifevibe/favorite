{{ if $.Site.Params.nightMode }}
<body class="io-black-mode">
{{ else }}
<body class="io-grey-mode">
{{ end }}
    {{ if $.Site.Params.enablePreLoad }}
    <div id="loading">
        <style>
            .loader {
                width: 250px;
                height: 50px;
                line-height: 50px;
                text-align: center;
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                font-family: helvetica, arial, sans-serif;
                text-transform: uppercase;
                font-weight: 900;
                color: #f1404b;
                letter-spacing: 0.2em
            }

            .loader::before,
            .loader::after {
                content: "";
                display: block;
                width: 15px;
                height: 15px;
                background: #f1404b;
                position: absolute;
                animation: load .7s infinite alternate ease-in-out
            }

            .loader::before {
                top: 0
            }

            .loader::after {
                bottom: 0
            }

            @keyframes load {
                0% {
                    left: 0;
                    height: 30px;
                    width: 15px
                }

                50% {
                    height: 8px;
                    width: 40px
                }

                100% {
                    left: 235px;
                    height: 30px;
                    width: 15px
                }
            }
        </style>
        <div class="loader">{{ $.Site.Params.textPreLoad }}</div>
    </div>
    {{ end }}
    <div class="page-container">
    {{ if $.Site.Params.expandSidebar }}
    <div id="sidebar" class="sticky sidebar-nav fade animate-nav" style="width: 170px">
        {{ else }}
        <div id="sidebar" class="sticky sidebar-nav fade mini-sidebar" style="width: 60px;">
    {{ end }}
            <div class="modal-dialog h-100 sidebar-nav-inner">
                <div class="sidebar-logo border-bottom border-color">
                    <!-- logo -->
                    <div class="logo overflow-hidden">
                        <a href="" class="logo-expanded">
                            <img src="{{ relURL $.Site.Params.images.logoExpandLight }}" height="40" class="logo-light"
                                alt="{{ .Site.Title }}">
                            <svg width="6.4rem" height="2rem" class="logo-light" viewBox="0 0 395.52 124.417" xmlns="http://www.w3.org/2000/svg"><g id="svgGroup" stroke-linecap="round" fill-rule="evenodd" font-size="9pt" stroke="#282a2d" stroke-width="0.25mm" fill="#282a2d" style="stroke:#282a2d;stroke-width:0.25mm;fill:#282a2d"><path d="M 10.88 124.032 L 0 124.032 L 12.672 4.224 L 80.896 4.224 Q 85.632 4.224 88.256 6.72 A 7.436 7.436 0 0 1 90.452 12.376 A 13.124 13.124 0 0 1 90.368 13.824 L 80.896 103.552 A 36.673 36.673 0 0 1 78.919 112.847 A 20.091 20.091 0 0 1 77.376 116.096 Q 74.624 120.704 70.656 122.56 Q 66.688 124.416 62.208 124.416 Q 55.936 124.416 51.264 120.128 A 20.239 20.239 0 0 1 45.424 109.231 A 31.452 31.452 0 0 1 45.184 108.032 L 54.144 105.728 A 13.39 13.39 0 0 0 56.796 111.751 A 6.512 6.512 0 0 0 61.952 114.048 Q 65.536 114.048 67.52 111.04 A 15.206 15.206 0 0 0 69.321 106.345 A 53.018 53.018 0 0 0 70.4 99.712 L 70.4 99.2 L 62.848 101.76 Q 61.952 96.128 60.992 90.688 Q 60.032 85.248 58.88 80 Q 53.632 93.056 46.848 104.576 L 38.272 100.224 Q 42.24 94.08 45.568 87.168 L 38.4 90.752 Q 36.864 82.56 34.944 74.624 Q 31.872 82.56 28.416 89.792 Q 24.96 97.024 20.992 103.68 L 13.568 99.2 L 10.88 124.032 Z M 166.016 108.288 L 184.832 108.288 L 183.552 119.552 L 120.832 119.552 L 122.112 108.288 L 134.656 108.288 L 143.488 24.064 L 154.112 24.064 L 145.28 108.288 L 155.264 108.288 L 166.912 0.128 L 177.664 0.128 L 173.056 42.368 L 187.904 42.368 L 186.624 54.144 L 171.776 54.144 L 166.016 108.288 Z M 65.536 20.864 L 74.496 22.784 A 354.281 354.281 0 0 1 69.442 46.949 A 263.07 263.07 0 0 1 64.384 64.768 Q 66.176 72.192 67.84 80 Q 69.504 87.808 70.784 95.872 L 79.36 14.592 L 22.4 14.592 L 13.824 95.872 Q 18.816 87.424 23.04 78.144 Q 27.264 68.864 30.72 58.112 Q 28.672 50.944 26.432 44.224 Q 24.192 37.504 21.888 31.232 L 29.696 26.24 Q 32.64 33.408 35.328 41.856 Q 37.888 31.616 39.936 19.968 L 48.896 22.016 Q 48 27.52 46.848 32.768 L 53.504 29.056 Q 56.704 37.504 59.776 47.744 Q 61.44 41.344 62.848 34.688 Q 64.256 28.032 65.536 20.864 Z M 317.312 105.728 L 325.376 104.448 A 68.351 68.351 0 0 0 326.025 110.834 A 34.074 34.074 0 0 0 326.08 111.168 A 4.298 4.298 0 0 0 327.022 113.643 A 0.636 0.636 0 0 0 327.424 113.792 Q 328.576 113.792 329.216 111.232 Q 329.856 108.672 330.496 102.528 L 331.264 95.104 L 324.352 97.28 Q 323.84 92.672 322.88 87.552 Q 321.92 82.432 320.64 77.312 A 298.419 298.419 0 0 1 316.964 96.314 A 221.912 221.912 0 0 1 315.328 102.976 A 327.826 327.826 0 0 1 309.407 123.05 A 268.96 268.96 0 0 1 308.992 124.288 L 299.392 119.552 A 225.786 225.786 0 0 0 303.496 106.669 A 352.036 352.036 0 0 0 306.304 96.32 Q 309.76 82.816 312.32 66.944 L 308.48 66.944 L 309.632 56.576 L 313.856 56.576 Q 314.112 55.168 314.24 53.632 L 318.848 15.744 L 327.04 15.744 Q 328.704 11.776 330.048 7.936 Q 331.392 4.096 332.416 0.128 L 342.4 2.048 Q 341.376 5.504 340.288 8.896 Q 339.2 12.288 337.792 15.744 L 340.096 15.744 Q 344.192 15.744 346.624 18.56 A 8.606 8.606 0 0 1 348.724 24.379 A 11.712 11.712 0 0 1 348.672 25.472 L 340.096 106.624 A 42.531 42.531 0 0 1 338.378 115.341 A 19.596 19.596 0 0 1 336.448 119.616 Q 333.696 124.032 328.064 124.032 Q 323.712 124.032 320.704 120.128 Q 317.696 116.224 317.312 105.728 Z M 347.648 124.032 L 338.432 118.272 Q 341.76 112.256 344.192 104.96 Q 346.624 97.664 348.48 88.064 Q 350.336 78.464 351.872 65.408 L 354.816 40.192 L 374.912 40.192 A 10.641 10.641 0 0 1 380.935 41.684 Q 384.59 44.149 383.872 50.688 L 378.24 103.552 A 40.246 40.246 0 0 0 377.925 108.157 A 15.984 15.984 0 0 0 378.048 110.272 Q 378.368 112.64 379.904 112.64 Q 381.696 112.64 383.104 108.16 Q 384.512 103.68 386.432 94.72 L 394.88 97.024 A 139.913 139.913 0 0 1 392.763 107.063 A 66.36 66.36 0 0 1 390.976 113.024 A 24.92 24.92 0 0 1 387.626 119.627 A 11.642 11.642 0 0 1 385.984 121.408 Q 383.104 123.904 378.88 123.904 Q 372.608 123.904 369.792 118.592 A 19.755 19.755 0 0 1 367.731 110.658 Q 367.528 107.757 367.872 104.32 L 373.504 50.816 L 363.904 50.816 L 362.24 65.792 Q 360.192 84.736 356.928 98.752 Q 353.664 112.768 347.648 124.032 Z M 261.12 63.872 L 272.64 63.872 L 271.744 71.808 L 290.304 71.808 L 289.152 82.816 L 270.592 82.816 L 268.672 101.12 Q 267.52 111.872 262.208 118.016 Q 256.896 124.16 247.424 124.16 Q 238.592 124.16 233.792 119.808 Q 228.992 115.456 226.816 108.544 L 236.928 105.472 Q 238.208 109.44 240.512 111.36 Q 242.816 113.28 246.912 113.28 Q 251.648 113.28 254.08 110.272 Q 256.512 107.264 257.28 99.84 L 259.072 82.816 L 231.808 82.816 Q 233.6 86.4 235.2 90.112 Q 236.8 93.824 238.208 97.536 L 228.352 101.376 Q 226.688 97.024 224.576 92.224 Q 222.464 87.424 220.032 82.816 L 205.568 82.816 L 206.848 71.808 L 260.224 71.808 L 261.12 63.872 Z M 216.064 35.968 L 219.52 4.224 L 272.64 4.224 Q 277.888 4.224 280.64 6.848 A 7.655 7.655 0 0 1 282.873 12.665 A 14.167 14.167 0 0 1 282.752 14.464 L 280.576 36.224 L 227.456 36.224 A 18.634 18.634 0 0 0 227.409 37.528 A 9.235 9.235 0 0 0 232 46.336 A 20.477 20.477 0 0 0 238.301 48.357 Q 241.921 49.003 246.864 49.124 A 96.118 96.118 0 0 0 249.216 49.152 A 106.913 106.913 0 0 0 266.41 47.863 A 80.274 80.274 0 0 0 270.72 47.04 Q 280.32 44.928 288.256 40.192 L 293.12 50.688 Q 288.512 53.376 282.496 55.552 A 68.459 68.459 0 0 1 271.199 58.454 A 102.522 102.522 0 0 1 268.16 58.944 Q 259.84 60.16 248.192 60.16 Q 237.44 60.16 229.888 57.984 A 20.473 20.473 0 0 1 219.726 51.9 A 16.401 16.401 0 0 1 218.688 50.56 A 16.976 16.976 0 0 1 215.924 42.06 Q 215.702 39.27 216.064 35.968 Z M 102.656 113.536 L 98.304 102.528 Q 104.448 100.224 110.08 97.664 L 115.584 45.312 L 106.112 45.312 L 107.264 34.432 L 116.736 34.432 L 120.064 1.92 L 130.944 1.92 L 127.488 34.432 L 136.704 34.432 L 135.552 45.312 L 126.336 45.312 L 121.472 92.288 Q 125.952 89.984 129.92 87.552 L 135.04 97.664 Q 127.36 102.144 119.168 106.048 Q 110.976 109.952 102.656 113.536 Z M 376.832 15.616 L 395.52 15.616 L 394.368 26.496 L 351.104 26.496 L 352.256 15.616 L 366.08 15.616 L 367.744 0 L 378.496 0 L 376.832 15.616 Z M 40.32 58.88 Q 41.984 65.152 43.52 71.808 Q 45.056 78.464 46.464 85.376 Q 51.328 75.392 55.168 63.744 Q 53.12 55.936 50.944 48.704 Q 48.768 41.472 46.464 34.688 Q 43.776 47.488 40.32 58.88 Z M 229.76 14.976 L 228.608 25.472 L 270.208 25.472 L 271.232 14.976 L 229.76 14.976 Z M 321.024 74.752 L 327.424 72.576 Q 328.832 77.312 329.856 82.24 Q 330.88 87.168 331.648 92.16 L 334.208 66.944 L 322.304 66.944 Q 321.664 70.912 321.024 74.752 Z M 336 49.92 L 329.6 51.84 Q 328.96 48.128 328.192 44.032 Q 327.424 39.936 326.272 35.712 L 323.584 56.576 L 335.36 56.576 L 336 49.92 Z M 326.528 33.152 L 332.544 31.104 Q 335.232 39.296 336.256 47.488 L 338.432 26.368 L 327.424 26.368 L 326.528 33.152 Z"/></g></svg>
                            <img src="{{ relURL $.Site.Params.images.logoExpandDark }}" height="40" class="logo-dark d-none"
                                alt="{{ .Site.Title }}">
                            <svg width="6.4rem" class="logo-dark d-none" height="2rem" viewBox="0 0 395.52 124.417" xmlns="http://www.w3.org/2000/svg"><g id="svgGroup" stroke-linecap="round" fill-rule="evenodd" font-size="9pt" stroke="#c6c9cf" stroke-width="0.25mm" fill="#c6c9cf" style="stroke:#c6c9cf;stroke-width:0.25mm;fill:#c6c9cf"><path d="M 10.88 124.032 L 0 124.032 L 12.672 4.224 L 80.896 4.224 Q 85.632 4.224 88.256 6.72 A 7.436 7.436 0 0 1 90.452 12.376 A 13.124 13.124 0 0 1 90.368 13.824 L 80.896 103.552 A 36.673 36.673 0 0 1 78.919 112.847 A 20.091 20.091 0 0 1 77.376 116.096 Q 74.624 120.704 70.656 122.56 Q 66.688 124.416 62.208 124.416 Q 55.936 124.416 51.264 120.128 A 20.239 20.239 0 0 1 45.424 109.231 A 31.452 31.452 0 0 1 45.184 108.032 L 54.144 105.728 A 13.39 13.39 0 0 0 56.796 111.751 A 6.512 6.512 0 0 0 61.952 114.048 Q 65.536 114.048 67.52 111.04 A 15.206 15.206 0 0 0 69.321 106.345 A 53.018 53.018 0 0 0 70.4 99.712 L 70.4 99.2 L 62.848 101.76 Q 61.952 96.128 60.992 90.688 Q 60.032 85.248 58.88 80 Q 53.632 93.056 46.848 104.576 L 38.272 100.224 Q 42.24 94.08 45.568 87.168 L 38.4 90.752 Q 36.864 82.56 34.944 74.624 Q 31.872 82.56 28.416 89.792 Q 24.96 97.024 20.992 103.68 L 13.568 99.2 L 10.88 124.032 Z M 166.016 108.288 L 184.832 108.288 L 183.552 119.552 L 120.832 119.552 L 122.112 108.288 L 134.656 108.288 L 143.488 24.064 L 154.112 24.064 L 145.28 108.288 L 155.264 108.288 L 166.912 0.128 L 177.664 0.128 L 173.056 42.368 L 187.904 42.368 L 186.624 54.144 L 171.776 54.144 L 166.016 108.288 Z M 65.536 20.864 L 74.496 22.784 A 354.281 354.281 0 0 1 69.442 46.949 A 263.07 263.07 0 0 1 64.384 64.768 Q 66.176 72.192 67.84 80 Q 69.504 87.808 70.784 95.872 L 79.36 14.592 L 22.4 14.592 L 13.824 95.872 Q 18.816 87.424 23.04 78.144 Q 27.264 68.864 30.72 58.112 Q 28.672 50.944 26.432 44.224 Q 24.192 37.504 21.888 31.232 L 29.696 26.24 Q 32.64 33.408 35.328 41.856 Q 37.888 31.616 39.936 19.968 L 48.896 22.016 Q 48 27.52 46.848 32.768 L 53.504 29.056 Q 56.704 37.504 59.776 47.744 Q 61.44 41.344 62.848 34.688 Q 64.256 28.032 65.536 20.864 Z M 317.312 105.728 L 325.376 104.448 A 68.351 68.351 0 0 0 326.025 110.834 A 34.074 34.074 0 0 0 326.08 111.168 A 4.298 4.298 0 0 0 327.022 113.643 A 0.636 0.636 0 0 0 327.424 113.792 Q 328.576 113.792 329.216 111.232 Q 329.856 108.672 330.496 102.528 L 331.264 95.104 L 324.352 97.28 Q 323.84 92.672 322.88 87.552 Q 321.92 82.432 320.64 77.312 A 298.419 298.419 0 0 1 316.964 96.314 A 221.912 221.912 0 0 1 315.328 102.976 A 327.826 327.826 0 0 1 309.407 123.05 A 268.96 268.96 0 0 1 308.992 124.288 L 299.392 119.552 A 225.786 225.786 0 0 0 303.496 106.669 A 352.036 352.036 0 0 0 306.304 96.32 Q 309.76 82.816 312.32 66.944 L 308.48 66.944 L 309.632 56.576 L 313.856 56.576 Q 314.112 55.168 314.24 53.632 L 318.848 15.744 L 327.04 15.744 Q 328.704 11.776 330.048 7.936 Q 331.392 4.096 332.416 0.128 L 342.4 2.048 Q 341.376 5.504 340.288 8.896 Q 339.2 12.288 337.792 15.744 L 340.096 15.744 Q 344.192 15.744 346.624 18.56 A 8.606 8.606 0 0 1 348.724 24.379 A 11.712 11.712 0 0 1 348.672 25.472 L 340.096 106.624 A 42.531 42.531 0 0 1 338.378 115.341 A 19.596 19.596 0 0 1 336.448 119.616 Q 333.696 124.032 328.064 124.032 Q 323.712 124.032 320.704 120.128 Q 317.696 116.224 317.312 105.728 Z M 347.648 124.032 L 338.432 118.272 Q 341.76 112.256 344.192 104.96 Q 346.624 97.664 348.48 88.064 Q 350.336 78.464 351.872 65.408 L 354.816 40.192 L 374.912 40.192 A 10.641 10.641 0 0 1 380.935 41.684 Q 384.59 44.149 383.872 50.688 L 378.24 103.552 A 40.246 40.246 0 0 0 377.925 108.157 A 15.984 15.984 0 0 0 378.048 110.272 Q 378.368 112.64 379.904 112.64 Q 381.696 112.64 383.104 108.16 Q 384.512 103.68 386.432 94.72 L 394.88 97.024 A 139.913 139.913 0 0 1 392.763 107.063 A 66.36 66.36 0 0 1 390.976 113.024 A 24.92 24.92 0 0 1 387.626 119.627 A 11.642 11.642 0 0 1 385.984 121.408 Q 383.104 123.904 378.88 123.904 Q 372.608 123.904 369.792 118.592 A 19.755 19.755 0 0 1 367.731 110.658 Q 367.528 107.757 367.872 104.32 L 373.504 50.816 L 363.904 50.816 L 362.24 65.792 Q 360.192 84.736 356.928 98.752 Q 353.664 112.768 347.648 124.032 Z M 261.12 63.872 L 272.64 63.872 L 271.744 71.808 L 290.304 71.808 L 289.152 82.816 L 270.592 82.816 L 268.672 101.12 Q 267.52 111.872 262.208 118.016 Q 256.896 124.16 247.424 124.16 Q 238.592 124.16 233.792 119.808 Q 228.992 115.456 226.816 108.544 L 236.928 105.472 Q 238.208 109.44 240.512 111.36 Q 242.816 113.28 246.912 113.28 Q 251.648 113.28 254.08 110.272 Q 256.512 107.264 257.28 99.84 L 259.072 82.816 L 231.808 82.816 Q 233.6 86.4 235.2 90.112 Q 236.8 93.824 238.208 97.536 L 228.352 101.376 Q 226.688 97.024 224.576 92.224 Q 222.464 87.424 220.032 82.816 L 205.568 82.816 L 206.848 71.808 L 260.224 71.808 L 261.12 63.872 Z M 216.064 35.968 L 219.52 4.224 L 272.64 4.224 Q 277.888 4.224 280.64 6.848 A 7.655 7.655 0 0 1 282.873 12.665 A 14.167 14.167 0 0 1 282.752 14.464 L 280.576 36.224 L 227.456 36.224 A 18.634 18.634 0 0 0 227.409 37.528 A 9.235 9.235 0 0 0 232 46.336 A 20.477 20.477 0 0 0 238.301 48.357 Q 241.921 49.003 246.864 49.124 A 96.118 96.118 0 0 0 249.216 49.152 A 106.913 106.913 0 0 0 266.41 47.863 A 80.274 80.274 0 0 0 270.72 47.04 Q 280.32 44.928 288.256 40.192 L 293.12 50.688 Q 288.512 53.376 282.496 55.552 A 68.459 68.459 0 0 1 271.199 58.454 A 102.522 102.522 0 0 1 268.16 58.944 Q 259.84 60.16 248.192 60.16 Q 237.44 60.16 229.888 57.984 A 20.473 20.473 0 0 1 219.726 51.9 A 16.401 16.401 0 0 1 218.688 50.56 A 16.976 16.976 0 0 1 215.924 42.06 Q 215.702 39.27 216.064 35.968 Z M 102.656 113.536 L 98.304 102.528 Q 104.448 100.224 110.08 97.664 L 115.584 45.312 L 106.112 45.312 L 107.264 34.432 L 116.736 34.432 L 120.064 1.92 L 130.944 1.92 L 127.488 34.432 L 136.704 34.432 L 135.552 45.312 L 126.336 45.312 L 121.472 92.288 Q 125.952 89.984 129.92 87.552 L 135.04 97.664 Q 127.36 102.144 119.168 106.048 Q 110.976 109.952 102.656 113.536 Z M 376.832 15.616 L 395.52 15.616 L 394.368 26.496 L 351.104 26.496 L 352.256 15.616 L 366.08 15.616 L 367.744 0 L 378.496 0 L 376.832 15.616 Z M 40.32 58.88 Q 41.984 65.152 43.52 71.808 Q 45.056 78.464 46.464 85.376 Q 51.328 75.392 55.168 63.744 Q 53.12 55.936 50.944 48.704 Q 48.768 41.472 46.464 34.688 Q 43.776 47.488 40.32 58.88 Z M 229.76 14.976 L 228.608 25.472 L 270.208 25.472 L 271.232 14.976 L 229.76 14.976 Z M 321.024 74.752 L 327.424 72.576 Q 328.832 77.312 329.856 82.24 Q 330.88 87.168 331.648 92.16 L 334.208 66.944 L 322.304 66.944 Q 321.664 70.912 321.024 74.752 Z M 336 49.92 L 329.6 51.84 Q 328.96 48.128 328.192 44.032 Q 327.424 39.936 326.272 35.712 L 323.584 56.576 L 335.36 56.576 L 336 49.92 Z M 326.528 33.152 L 332.544 31.104 Q 335.232 39.296 336.256 47.488 L 338.432 26.368 L 327.424 26.368 L 326.528 33.152 Z"/></g></svg>
                        </a>
                        <a href="" class="logo-collapsed">
                            <img src="{{ relURL $.Site.Params.images.logoCollapseLight }}" height="40" class="logo-light"
                                alt="{{ .Site.Title }}">
                            <img src="{{ relURL $.Site.Params.images.logoCollapseDark }}" height="40" class="logo-dark d-none"
                                alt="{{ .Site.Title }}">
                        </a>
                    </div>
                    <!-- logo end -->
                </div>

                <div class="sidebar-menu flex-fill">
                    <div class="sidebar-scroll">
                        <div class="sidebar-menu-inner">
                            <ul>
                                {{/* 读取并解析 webstack.json 数据 */}}
                                {{ $webstackResource := resources.Get "data/webstack.json" }}
                                {{ $sites := $webstackResource | transform.Unmarshal }}

                                {{/* 按分类组织数据 */}}
                                {{ $categories := dict }}
                                {{ $subCategories := dict }}
                                
                                {{ range $site := $sites }}
                                    {{ range $categoryInfo := $site.WebCategories }}
                                        {{ $cat := $categoryInfo.WebCategory_id }}
                                        
                                        {{ if $cat.toplevel }}
                                            {{ $existing := index $categories $cat.name }}
                                            {{ if not $existing }}
                                                {{ $categories = merge $categories (dict $cat.name (dict "info" $cat "sites" (slice))) }}
                                            {{ end }}
                                        {{ else }}
                                            {{ $existing := index $subCategories $cat.name }}
                                            {{ if not $existing }}
                                                {{ $subCategories = merge $subCategories (dict $cat.name (dict "info" $cat "sites" (slice))) }}
                                            {{ end }}
                                        {{ end }}
                                    {{ end }}
                                {{ end }}
                                
                                {{/* 将站点分配到对应分类 */}}
                                {{ range $site := $sites }}
                                    {{ range $categoryInfo := $site.WebCategories }}
                                        {{ $cat := $categoryInfo.WebCategory_id }}
                                        
                                        {{ if $cat.toplevel }}
                                            {{ $catData := index $categories $cat.name }}
                                            {{ $updatedSites := $catData.sites | append $site }}
                                            {{ $updatedCatData := merge $catData (dict "sites" $updatedSites) }}
                                            {{ $categories = merge $categories (dict $cat.name $updatedCatData) }}
                                        {{ else }}
                                            {{ $catData := index $subCategories $cat.name }}
                                            {{ $updatedSites := $catData.sites | append $site }}
                                            {{ $updatedCatData := merge $catData (dict "sites" $updatedSites) }}
                                            {{ $subCategories = merge $subCategories (dict $cat.name $updatedCatData) }}
                                        {{ end }}
                                    {{ end }}
                                {{ end }}
                                
                                {{/* 按权重排序顶级分类 */}}
                                {{ $sortedCategories := slice }}
                                {{ range $name, $data := $categories }}
                                    {{ $sortedCategories = $sortedCategories | append (merge $data (dict "name" $name)) }}
                                {{ end }}
                                {{ $sortedCategories = sort $sortedCategories "info.weight" }}

                                {{/* 收集所有需要显示的父级分类，并带上它们的图标信息 */}}
                                {{ $fatherCategories := dict }}

                                {{/* 收集所有顶级分类 */}}
                                {{ range $name, $data := $categories }}
                                    {{ if $data.sites }}
                                        {{ $fatherCategories = merge $fatherCategories (dict $name (merge $data.info (dict "name" $name "has_sub" false))) }}
                                    {{ end }}
                                {{ end }}

                                {{/* 收集所有有子分类的父级分类，并把子分类的 father_icon 赋给父级 */}}
                                {{ range $subName, $subData := $subCategories }}
                                    {{ $fatherName := $subData.info.father }}
                                    {{ $fatherInfo := index $categories $fatherName }}
                                    
                                    {{/* 检查父级是否已存在，如果不存在，创建一个虚拟父级 */}}
                                    {{ $existing := index $fatherCategories $fatherName }}
                                    {{ if not $existing }}
                                        {{ $fatherCategories = merge $fatherCategories (dict $fatherName (dict "name" $fatherName "weight" 999 "toplevel" true "has_sub" true)) }}
                                    {{ end }}

                                    {{/* 将子分类的 father_icon 赋值给父级分类 */}}
                                    {{ if $subData.info.father_icon }}
                                        {{ $currentFather := index $fatherCategories $fatherName }}
                                        {{ $updatedFather := merge $currentFather (dict "father_icon" $subData.info.father_icon "has_sub" true) }}
                                        {{ $fatherCategories = merge $fatherCategories (dict $fatherName $updatedFather) }}
                                    {{ end }}
                                {{ end }}

                                {{/* 按权重排序父级分类 */}}
                                {{ $sortedFatherCategories := slice }}
                                {{ range $name, $info := $fatherCategories }}
                                    {{ $sortedFatherCategories = $sortedFatherCategories | append (dict "name" $name "info" $info) }}
                                {{ end }}
                                {{ $sortedFatherCategories = sort $sortedFatherCategories "info.weight" }}

                                {{/* 渲染所有父级分类及其子分类 */}}
                                {{ range $fatherCategory := $sortedFatherCategories }}
                                    <li class="sidebar-item">
                                        <a href="#{{ $fatherCategory.name | md5 }}" class="smooth">
                                            {{ if $fatherCategory.info.has_sub }}
                                                {{/* 有子分类时，优先使用父级的 father_icon */}}
                                                {{ if $fatherCategory.info.father_icon }}
                                                    {{ $fatherCategory.info.father_icon | safeHTML }}
                                                {{ else }}
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="1rem" height="1rem" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2"><path d="M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z"/></g></svg>
                                                {{ end }}
                                            {{ else }}
                                                {{/* 没有子分类时，使用父级的 icon */}}
                                                {{ if $fatherCategory.info.icon }}
                                                    {{ $fatherCategory.info.icon | safeHTML }}
                                                {{ else }}
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="1rem" height="1rem" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2"><path d="M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z"/></g></svg>
                                                {{ end }}
                                            {{ end }}
                                            <span>{{ $fatherCategory.name }}</span>
                                            {{ if $fatherCategory.info.has_sub }}
                                                <span class="sidebar-more"><svg xmlns="http://www.w3.org/2000/svg" width="1rem" height="1rem" viewBox="0 0 24 24"><g fill="none" fill-rule="evenodd"><path d="M24 0v24H0V0zM12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.019-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"/><path fill="currentColor" d="M15.707 11.293a1 1 0 0 1 0 1.414l-5.657 5.657a1 1 0 1 1-1.414-1.414l4.95-4.95l-4.95-4.95a1 1 0 0 1 1.414-1.414z"/></g></svg></span>
                                            {{ end }}
                                        </a>
                                        
                                        {{ if $fatherCategory.info.has_sub }}
                                            <ul>
                                                {{/* 查找该父级分类下的所有子分类并按权重排序 */}}
                                                {{ $sortedSubCategories := slice }}
                                                {{ range $subName, $subData := $subCategories }}
                                                    {{ if eq $subData.info.father $fatherCategory.name }}
                                                        {{ $sortedSubCategories = $sortedSubCategories | append $subData }}
                                                    {{ end }}
                                                {{ end }}
                                                {{ $sortedSubCategories = sort $sortedSubCategories "info.weight" }}
                                                
                                                {{ range $subData := $sortedSubCategories }}
                                                    <li>
                                                        <a href="#{{ $subData.info.name | md5 }}" class="smooth">
                                                            {{ if $subData.info.icon }}
                                                                {{ $subData.info.icon | safeHTML }}
                                                            {{ else }}
                                                                <svg xmlns="http://www.w3.org/2000/svg" width="1rem" height="1rem" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2"><path d="M8 6h8v2H8zm0 5h8v2H8zm0 5h5v2H8z"/></g></svg>
                                                            {{ end }}
                                                            <span>{{ $subData.info.name }}</span>
                                                        </a>
                                                    </li>
                                                {{ end }}
                                            </ul>
                                        {{ end }}
                                    </li>
                                {{ end }}

                            </ul>
                        </div>
                    </div>
                </div>

                <div class="border-top py-2 border-color">
                    <div class="flex-bottom">
                        <ul>
                            {{ range .Site.Data.sidebars }}
                            <li {{ if .list }}class="menu-item-has-children" {{ end }}>
                                <a href="{{ .link }}" {{ if .target }}target="{{ .target }}"{{ end }}>
                                    {{ .icon | safeHTML }}
                                    <span class="{{ if .target }}menu-item-link-external{{ else }}menu-item-link-internal{{ end }}">{{ .item | safeHTML }}</span>
                                </a>
                                <!-- 导航栏下拉菜单实现添加图标 -->
                                <ul class="sub-menu">
                                    {{ range .list }}
                                    <li {{ if .list }}class="menu-item-has-children" {{ end }}>
                                        <a href="{{ .link }}" {{ if .target }}target="{{ .target }}"{{ end }}>
                                            {{ .icon | safeHTML }}
                                            <span>{{ .name | safeHTML }}</span>
                                        </a>
                                    </li>
                                    {{ end }}
                                </ul>
                            </li>
                            {{ end }}
                        </ul>
                    </div>
                </div>
            </div>
        </div>
